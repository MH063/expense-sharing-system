# 记账系统环境变量配置模板
# 复制此文件为 .env 并填写相应的值
# 注意：请勿将包含真实值的 .env 文件提交到版本控制系统

# =============================================================================
# 服务器配置
# =============================================================================
PORT=3000
NODE_ENV=production

# =============================================================================
# 数据库配置
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=finance_system
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# 管理员重置密码（用于密码重置功能）
ADMIN_RESET_PASSWORD=your_secure_admin_reset_password

# =============================================================================
# JWT 密钥配置
# =============================================================================
# 主要JWT访问令牌密钥
JWT_SECRET=your_very_long_and_secure_jwt_access_secret_key_here

# 主要JWT刷新令牌密钥  
JWT_REFRESH_SECRET=your_very_long_and_secure_jwt_refresh_secret_key_here

# JWT轮换密钥（可选，多个密钥用逗号分隔）
JWT_SECRETS=your_primary_jwt_secret,your_secondary_jwt_secret_optional
JWT_REFRESH_SECRETS=your_primary_jwt_refresh_secret,your_secondary_jwt_refresh_secret_optional

# =============================================================================
# RSA密钥对配置
# =============================================================================
# RSA公钥（用于JWT验证）
RSA_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nYOUR_RSA_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----"

# RSA私钥（用于JWT签名）
RSA_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_RSA_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"

# =============================================================================
# 测试环境配置
# =============================================================================
# 测试环境密码
TEST_PASSWORD=your_secure_test_password

# =============================================================================
# Vault配置（可选）
# =============================================================================
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=your_vault_token
VAULT_JWT_SECRET_PATH=secret/data/jwt-secrets
VAULT_RSA_KEY_PATH=secret/data/rsa-keys

# =============================================================================
# 邮件服务配置（可选）
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@example.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# 安全配置
# =============================================================================
# 密码加密盐值
PASSWORD_SALT=your_secure_salt_value

# 会话密钥
SESSION_SECRET=your_very_long_and_secure_session_secret_key

# API速率限制
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log

# =============================================================================
# 文件上传配置
# =============================================================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880

# =============================================================================
# 安全提示
# =============================================================================
# 1. 所有密码和密钥都应该是强密码（至少12位字符，包含大小写字母、数字和特殊字符）
# 2. JWT密钥应该使用32位或更长的随机字符串
# 3. RSA私钥必须妥善保管，不要在生产环境中使用测试密钥
# 4. 定期轮换密钥，特别是生产环境中的密钥
# 5. 包含真实值的 .env 文件不应该提交到版本控制系统
# 6. 使用专门的安全管理工具（如HashiCorp Vault）来管理生产环境密钥
# 7. 考虑使用Docker Secrets或Kubernetes Secrets来管理容器化环境中的敏感信息